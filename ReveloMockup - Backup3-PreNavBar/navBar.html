<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revelo Navigation Bar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100">

<!-- Add some padding to the top of the body to prevent content from being hidden behind the fixed navbar -->
<div class="pt-16">
    <!-- Your page content would go here -->
</div>

<nav class="fixed top-0 left-0 right-0 bg-white shadow-md z-50">
    <div class="max-w-2xl mx-auto px-4">
        <div class="flex justify-between items-center h-16">
            <!-- Logo -->
            <div class="flex-shrink-0">
                <a href="homePage.html">
                    <img class="h-8" src="https://i.imgur.com/jsLMh0e.png" alt="Revelo Logo">
                </a>
            </div>

            <!-- Search Bar (hidden by default, positioned absolutely) -->
            <div id="search-container" class="absolute right-0 sm:left-1/2 sm:-translate-x-1/2 md:left-auto md:translate-x-0 md:relative flex-grow flex justify-end items-center">
                 <input id="search-bar" type="text" placeholder="Search events, artists, creators..." class="w-0 md:w-full max-w-xs p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 opacity-0 md:opacity-100 transition-all duration-300 ease-in-out">
            </div>

            <!-- Icons -->
            <div class="flex items-center space-x-0">
                <!-- Search Icon -->
                <button id="search-icon" class="p-1.5 rounded-full hover:bg-gray-200">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </button>
                <!-- Notification Icon -->
                <a href="attendeeNotifications.html" class="p-1.5 rounded-full hover:bg-gray-200">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                </a>
                <!-- Hamburger Icon -->
                <button id="hamburger-icon" class="p-1.5 rounded-full hover:bg-gray-200">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden max-w-2xl mx-auto px-4 pt-2 pb-4 space-y-2 bg-white border-t border-gray-200">
        <div class="flex items-center justify-end space-x-2 px-2 py-1">
            <span id="lang-en" class="font-bold text-orange-500 cursor-pointer">EN</span>
            <span>|</span>
            <span id="lang-es" class="font-bold text-gray-700 cursor-pointer">ES</span>
        </div>
        <a href="eventListings.html" class="flex items-center justify-end space-x-2 px-2 py-1 text-gray-700 font-semibold hover:bg-gray-100 rounded-md">
            <span>Events</span>
        </a>
        <a href="attendeeDashboard.html" class="flex items-center justify-end space-x-2 px-2 py-1 text-gray-700 font-semibold hover:bg-gray-100 rounded-md">
            <span>My Profile</span>
        </a>
        <a href="#" class="flex items-center justify-end space-x-2 px-2 py-1 text-gray-700 font-semibold hover:bg-gray-100 rounded-md">
            <span>Contact</span>
        </a>
        <a href="#" class="flex items-center justify-end space-x-2 px-2 py-1 text-gray-700 font-semibold hover:bg-gray-100 rounded-md">
            <span>Logout</span>
            <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
        </a>
    </div>
</nav>

<script>
    // --- Elements ---
    const langEn = document.getElementById('lang-en');
    const langEs = document.getElementById('lang-es');
    const hamburgerIcon = document.getElementById('hamburger-icon');
    const mobileMenu = document.getElementById('mobile-menu');
    const searchIcon = document.getElementById('search-icon');
    const searchBar = document.getElementById('search-bar');
    const searchContainer = document.getElementById('search-container'); // Get the search bar's container
    const logo = document.querySelector('a[href="homePage.html"]'); // Get logo to hide it

    // --- Language Switcher Logic ---
    langEn.addEventListener('click', () => {
        langEn.classList.add('text-orange-500');
        langEn.classList.remove('text-gray-700');
        langEs.classList.add('text-gray-700');
        langEs.classList.remove('text-orange-500');
    });

    langEs.addEventListener('click', () => {
        langEs.classList.add('text-orange-500');
        langEs.classList.remove('text-gray-700');
        langEn.classList.add('text-gray-700');
        langEn.classList.remove('text-orange-500');
    });

    // --- Hamburger Menu Logic ---
    hamburgerIcon.addEventListener('click', (event) => {
        event.stopPropagation();
        mobileMenu.classList.toggle('hidden');
    });

    // --- Expanding Search Bar Logic ---
    searchIcon.addEventListener('click', (event) => {
        event.stopPropagation(); // Prevents click from bubbling up to the document
        
        // On small screens, the search bar expands over the logo
        if (window.innerWidth < 768) {
            logo.classList.toggle('hidden');
            // Expand the container to fill the available space by adjusting its position
            searchContainer.classList.toggle('left-4');
            searchContainer.classList.toggle('right-20'); // Leaves space for the icons on the right
            searchContainer.classList.toggle('right-0'); // Toggles the default right alignment
        }
        
        searchBar.classList.toggle('w-0');
        searchBar.classList.toggle('opacity-0');
        searchBar.classList.toggle('w-full');
        searchBar.classList.toggle('opacity-100');
        if (searchBar.classList.contains('opacity-100')) {
            searchBar.focus(); // Automatically focus the input field when it becomes visible
        }
    });

    // --- Click Outside Logic ---
    document.addEventListener('click', (event) => {
        // Close search bar
        const isClickInsideSearchBar = searchBar.contains(event.target);
        const isClickOnSearchIcon = searchIcon.contains(event.target);

        if (!isClickInsideSearchBar && !isClickOnSearchIcon && searchBar.classList.contains('opacity-100')) {
             if (window.innerWidth < 768) {
                logo.classList.remove('hidden');
                // Revert the container's position to its default state
                searchContainer.classList.remove('left-4');
                searchContainer.classList.remove('right-20');
                searchContainer.classList.add('right-0');
            }
            searchBar.classList.add('w-0');
            searchBar.classList.add('opacity-0');
            searchBar.classList.remove('w-full');
            searchBar.classList.remove('opacity-100');
        }

        // Close mobile menu
        const isClickInsideMenu = mobileMenu.contains(event.target);
        const isClickOnHamburgerIcon = hamburgerIcon.contains(event.target);

        if (!isClickInsideMenu && !isClickOnHamburgerIcon && !mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
        }
    });

</script>

</body>
</html>